<!DOCTYPE html>

<title>elite - tiny dom lib</title>

<meta charset="utf-8" />

<style>
    body {
        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .elite {
        font-size: 48pt;
    }

    .btn {
        border: 1px solid #ccc;
        border-radius: 3px;
        background: #fff;
        cursor: pointer;
    }
</style>

<main id='app'></main>

<script src="elite.js"></script>
<script>
    const joinEvent = {
        submit: (e) => {
            e.preventDefault()
            const val = get('input').value
            get('bottom').innerHTML = `Welcome ${val} â¤`
        }
    }

    const data = {
        title: 'elite',
        description: 'a tiny declarative js dom lib'
    }

    const app = el('div', [
        el('h1', data.title, { class: 'elite' }),
        el('p', data.description, { style: "background: #ffe088; padding: 8pt;" }),
        el('div', [
            el('button', 'Press', { class: 'btn' }, { click: (e) => alert('YO') }),
        ]),
        el('br'),
        // build 3 levels of nested elements as divs
        el('div', 'lvl 1', [
            el('div', 'lvl 2', [
                el('div', 'lvl 3', [
                    el('div', 'nested divs', { style: "font-weight: 800;" })
                ])
            ])
        ]),
        el('br'),
        el('form', {}, joinEvent, [
            el('input', { id: 'input', placeholder: 'Name', required: true }),
            el('button', 'Join', { class: 'btn', style: "margin-left: 8pt;" }),
        ]),
        el('p', { id: 'bottom' })
    ])

    set('app', app)
    
    add('app', el('div', 'added to app', [
        el('span', ' nested span')
    ]))

    // test performance
    /*
    let t0 = performance.now()
    for (let i = 0; i < 1000000; i++) {
        el('p', 'test' + i)
    }
    let t1 = performance.now()
    console.log('perf took ' + (t1 - t0) + ' milliseconds.')
    */

</script>